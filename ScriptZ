-- Load Rayfield UI Library
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

-- Services
local RS = game:GetService("ReplicatedStorage")
local RunS = game:GetService("RunService")
local Players = game:GetService("Players")

local Enemies = workspace:WaitForChild("Enemies")
local HurtEnemy = RS:WaitForChild("HurtEnemy")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")

-- Control Variables
local AutoKillEnabled = false
local GodModeEnabled = false

-- Auto-Damage Loop
RunS.RenderStepped:Connect(function()
    if AutoKillEnabled then
        for _, e in pairs(Enemies:GetChildren()) do
            if e:IsA("Model") and e:FindFirstChild("Humanoid") and e:FindFirstChild("HumanoidRootPart") then
                HurtEnemy:FireServer(e, 999999999999999999) -- Massive damage
            end
        end
    end
end)

-- God Mode Loop
RunS.Heartbeat:Connect(function()
    if GodModeEnabled and Humanoid and Humanoid.Health < 1e6 then
        Humanoid.MaxHealth = 1e6
        Humanoid.Health = 1e6
    end
end)

-- GUI Setup
local Window = Rayfield:CreateWindow({
    Name = "Noobs Must Die",
    LoadingTitle = "Noobs Must Die",
    LoadingSubtitle = "by You",
    ConfigurationSaving = {
        Enabled = false
    },
    KeySystem = true,
    KeySettings = {
        Title = "Key Required",
        Subtitle = "Enter the access key to proceed",
        Note = "Key: Freemium-1029384756",
        FileName = "NoobsMustDieKeyData",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = "Freemium-1029384756"
    }
})

-- "Destroy" Tab
local DestroyTab = Window:CreateTab("Destroy", 4483362458)

-- Toggle: Auto Kill
DestroyTab:CreateToggle({
    Name = "Enable Auto Kill",
    CurrentValue = false, -- default OFF
    Flag = "AutoKillToggle",
    Callback = function(Value)
        AutoKillEnabled = Value
    end,
})

-- Toggle: God Mode
DestroyTab:CreateToggle({
    Name = "Enable God Mode",
    CurrentValue = false, -- default OFF
    Flag = "GodModeToggle",
    Callback = function(Value)
        GodModeEnabled = Value
    end,
})
